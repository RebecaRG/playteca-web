<h2 class="mb-3 pt-5 mx-5">Mis juegos</h2>
<div class="card p-3 mx-5">
  <div class="card-body">
    <div class="d-flex justify-content-end">
      <button class="btn btn-primary" (click)="openAddGameModal()">Añadir a la lista</button>
    </div>

    <h4 class="fw-bold">¡Los tengo!</h4>
    @if(poseidos.length > 0){
    <div class="table-responsive no-scrollbar">
      <table class="table table-striped">
        <thead>
          <tr class="table-success text-start">
            <th class="col-1"></th>
            <th class="col-2">Título</th>
            <th class="col-2">Autor/a</th>
            <th class="col-2">Editorial</th>
            <th class="col-1">Puntuación</th>
            <th class="col-3">Comentario</th>
            <th class="col-1"></th>

          </tr>
        </thead>
        <tbody>

          @for(juego of poseidos | slice: (pageJuegosPoseidos - 1) * pageSize : (pageJuegosPoseidos - 1) * pageSize + pageSize; track $index){
          <tr>
            <td>
              <div class="d-flex justify-content-end">
                <button type="button" class="btn-i" [routerLink]="['/juegos', juego.juego.id_juego]">
                  <img src="assets/images/icon/info.svg" alt="Más información">
                </button>
              </div>
            </td>
            <td><strong>{{ juego.juego.titulo}}</strong>({{ juego.juego.fecha_publicacion }})</td>
            <td>{{ juego.juego.autoria }}</td>
            <td>{{ juego.juego.editorial }}</td>
            <td class="text-center">
              <ngb-rating [rate]="juego.valoracion_juego" [max]="5"></ngb-rating>
            </td>
            <td>{{ juego.comentario }}</td>
            <td>
              <div class="d-flex justify-content-end">

                <button type="button" class="btn-i mx-2" (click)="openEditGameModal(juego)">
                  <img src="assets/images/icon/update.svg" alt="Modificar">
                </button>
                <button type="button" class="btn-i mx-2" (click)="deleteUserGame(juego.id_user_juegos)">
                  <img src="assets/images/icon/delete.svg" alt="Eliminar">
                </button>

              </div>
            </td>
          </tr>
          }
        </tbody>
      </table>
      <div class="d-flex justify-content-center p-2">
        <ngb-pagination [collectionSize]="poseidos.length" [(page)]="pageJuegosPoseidos" [pageSize]="pageSize">
        </ngb-pagination>
      </div>
    </div>
  }

   

    @if(deseados.length > 0){
    <hr class="lineStyle mb-5">
    <h4 class="mt-3 fw-bold">¡Los quiero!</h4>
    <div class="table-responsive no-scrollbar">
      <table class="table table-striped">
        <thead>
          <tr class="table-success text-start">
            <th class="col-1"></th>
            <th class="col-2">Título</th>
            <th class="col-2">Autor/a</th>
            <th class="col-2">Editorial</th>
            <th class="col-1">Puntuación</th>
            <th class="col-3">Comentario</th>
            <th class="col-1"></th>
          </tr>
        </thead>
        <tbody>
          @for(juego of deseados| slice: (pageJuegosDeseados - 1) * pageSize : (pageJuegosDeseados - 1) * pageSize + pageSize; track $index){
          <tr>
            <td>
              <div class="d-flex justify-content-end">
                <button type="button" class="btn-i" [routerLink]="['/juegos', juego.juego.id_juego]">
                  <img src="assets/images/icon/info.svg" alt="Más información">
                </button>
              </div>
            </td>
            <td><strong>{{ juego.juego.titulo}}</strong>({{ juego.juego.fecha_publicacion }})</td>
            <td>{{ juego.juego.autoria }}</td>
            <td>{{ juego.juego.editorial }}</td>
            <td class="text-center">
              <ngb-rating [rate]="juego.valoracion_juego" [max]="5"></ngb-rating>
            </td>
            <td>{{ juego.comentario }}</td>
            <td>
              <div class="d-flex justify-content-end">

                <button type="button" class="btn-i mx-2" (click)="openEditGameModal(juego)">
                  <img src="assets/images/icon/update.svg" alt="Modificar">
                </button>
                <button type="button" class="btn-i mx-2" (click)="deleteUserGame(juego.id_user_juegos)">
                  <img src="assets/images/icon/delete.svg" alt="Eliminar">
                </button>

              </div>
            </td>
          </tr>
          }
        </tbody>
      </table>
      <div class="d-flex justify-content-center p-2">
        <ngb-pagination [collectionSize]="deseados.length" [(page)]="pageJuegosDeseados" [pageSize]="pageSize">
        </ngb-pagination>
      </div>
    </div>
  }
